{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}">
{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-video-container">
        <video autoplay muted loop playsinline class="background-video">
            <source src="{{ url_for('static', filename='video/videoplayback.mp4') }}" type="video/mp4">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
        </video>
        <div class="content-overlay">
            <div class="registration-form-box">
                <h2>–í—Ö—ñ–¥</h2>
                {% with messages = get_flashed_messages() %}
                  {% if messages %}
                    <div class="alert alert-info">
                      {% for message in messages %}
                        <div>{{ message }}</div>
                      {% endfor %}
                    </div>
                  {% endif %}
                {% endwith %}
                <form method="POST">
                    <div class="mb-3">
                        <label for="email" class="form-label">–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="mb-3 password-wrapper">
                        <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="password" name="password" required>
                            <span class="toggle-password" onclick="togglePassword('password', this)">üôà</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">–£–≤—ñ–π—Ç–∏</button>

                    <p style="text-align: center; margin-top: 15px;">
                        –ù–µ–º–∞—î –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É?
                        <a href="{{ url_for('auth.register') }}">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
                    </p>
                    <p style="text-align: center;">
                        –ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?
                        <a href="{{ url_for('auth.forgot_password') }}">–í—ñ–¥–Ω–æ–≤–∏—Ç–∏</a>
                    </p>
                </form>
            </div>
        </div>
    </div>
</section>
<script>
    function togglePassword(inputId, toggleElement) {
        const input = document.getElementById(inputId);
        const isPassword = input.type === 'password';
        input.type = isPassword ? 'text' : 'password';
        toggleElement.textContent = isPassword ? 'üôä' : 'üôà';
    }
</script>
{% endblock %}
